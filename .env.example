## Required
ASSEMBLYAI_API_KEY=

## Optional (defaults shown below)
Y2T_OUTPUT_DIR=output
Y2T_AUDIO_DIR=audio
Y2T_FILENAME_STYLE=title_id          # id | id_title | title_id
Y2T_AUDIO_FORMAT=mp3                # mp3 | wav
Y2T_LANGUAGE_DETECTION=auto         # auto | manual
Y2T_LANGUAGE_CODE=en_us             # AssemblyAI language_code
Y2T_CONCURRENCY=2
Y2T_MAX_NEW_VIDEOS=
Y2T_AFTER_DATE=
Y2T_CSV_ENABLED=false
Y2T_COMMENTS_ENABLED=false
Y2T_COMMENTS_MAX=

## AssemblyAI credits preflight
Y2T_ASSEMBLYAI_CREDITS_CHECK=warn    # warn | abort | none
Y2T_ASSEMBLYAI_MIN_BALANCE_MINUTES=60

## yt-dlp integration
Y2T_YT_DLP_PATH=
# Legacy env names (still supported): OUTPUT_DIR, AUDIO_DIR, FILENAME_STYLE, AUDIO_FORMAT,
# LANGUAGE_DETECTION, LANGUAGE_CODE, CONCURRENCY, MAX_NEW_VIDEOS, AFTER_DATE, CSV_ENABLED,
# COMMENTS_ENABLED, COMMENTS_MAX, ASSEMBLYAI_CREDITS_CHECK, ASSEMBLYAI_MIN_BALANCE_MINUTES,
# YT_DLP_PATH, YTDLP_PATH

## Catalog cache (Phase 2.7)
Y2T_CATALOG_MAX_AGE_HOURS=168     # TTL for output/_catalog/<channelId>.json; <= 0 disables expiry

## API auth (Phase 2+)
Y2T_API_KEY=                     # required for the HTTP API server; clients must send X-API-Key (except /health)
Y2T_ALLOW_INSECURE_NO_API_KEY=false # set true for local dev only (API starts without auth)
Y2T_CORS_ORIGINS=                # comma-separated exact origin allowlist (default: *)
Y2T_SHUTDOWN_TIMEOUT_SECONDS=60  # graceful shutdown timeout on SIGTERM/SIGINT
Y2T_RATE_LIMIT_WRITE_MAX=60      # write requests per window (0 disables)
Y2T_RATE_LIMIT_WINDOW_MS=60000   # rate limit window in ms
Y2T_RUN_TIMEOUT_MINUTES=240      # mark run error if still running after N minutes (0 disables)

## Retention / cleanup (Phase 2.2)
Y2T_RETENTION_RUNS_DAYS=30        # delete run persistence under output/_runs/* older than N days; -1 disables
Y2T_RETENTION_AUDIO_DAYS=7        # delete audio cache under audio/* older than N days; -1 disables

## Scheduler / watchlist (Phase 2.3)
Y2T_SCHEDULER_ENABLED=false       # opt-in to avoid surprise runs
Y2T_SCHEDULER_INTERVAL_MINUTES=60 # default check interval per channel (minutes)
Y2T_SCHEDULER_MAX_CONCURRENT_RUNS=1
Y2T_WATCHLIST_ALLOW_ANY_URL=false # if true, allows non-channel/playlist URLs in watchlist (not recommended)

## Webhooks (Phase 2+)
Y2T_WEBHOOK_SECRET=              # if set, webhook requests include X-Y2T-Signature and X-Y2T-Timestamp
Y2T_WEBHOOK_RETRIES=3            # retries for callbackUrl delivery (429/5xx/network)
Y2T_WEBHOOK_TIMEOUT_MS=5000      # per-attempt timeout
