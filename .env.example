# Required
# - AssemblyAI API key is required only when sttProvider=assemblyai.
# - OpenAI API key is required only when sttProvider=openai_whisper.
ASSEMBLYAI_API_KEY=your-assemblyai_api_key
OPENAI_API_KEY=your-openai-api-key
Y2T_OPENAI_API_KEY=your-openai-api-key
Y2T_API_KEY=your-api-key
Y2T_STT_PROVIDER=assemblyai

# Optional: local dev only (allow API without key)
Y2T_ALLOW_INSECURE_NO_API_KEY=false

# Optional: CORS allowlist (comma-separated exact origins)
Y2T_CORS_ORIGINS=http://localhost:3000

# Optional: HTTP request body size limit (bytes)
Y2T_MAX_BODY_BYTES=1000000

# Optional: auth failure rate limit
Y2T_AUTH_FAIL_MAX=30
Y2T_AUTH_FAIL_WINDOW_MS=60000
Y2T_TRUST_PROXY=false
Y2T_API_KEY_MAX_BYTES=256

# Optional: webhook configuration
Y2T_WEBHOOK_ALLOWED_DOMAINS=example.com,sub.example.com
Y2T_WEBHOOK_MAX_AGE_SECONDS=300
Y2T_WEBHOOK_RETRIES=3
Y2T_WEBHOOK_TIMEOUT_MS=5000
Y2T_WEBHOOK_SECRET=your-webhook-secret

# Optional: SSE connection limit (0 disables)
Y2T_SSE_MAX_CLIENTS=1000
Y2T_MAX_BUFFERED_EVENTS_PER_RUN=1000

# Optional: write rate limits (POST/PATCH/DELETE endpoints)
Y2T_RATE_LIMIT_WRITE_MAX=60
Y2T_RATE_LIMIT_WINDOW_MS=60000

# Optional: read + health rate limits (GET endpoints)
Y2T_RATE_LIMIT_READ_MAX=300
Y2T_RATE_LIMIT_READ_WINDOW_MS=60000
Y2T_RATE_LIMIT_HEALTH_MAX=30
Y2T_RATE_LIMIT_HEALTH_WINDOW_MS=60000

# Optional: global request timeout (ms, 0 disables)
Y2T_REQUEST_TIMEOUT_MS=30000

# Optional: run persistence
Y2T_API_PERSIST_RUNS=true
Y2T_API_PERSIST_DIR=output/_runs

# Optional: graceful shutdown timeout (seconds)
Y2T_SHUTDOWN_TIMEOUT_SECONDS=30

# Optional: retention cleanup (days, -1 disables)
Y2T_RETENTION_RUNS_DAYS=30
Y2T_RETENTION_AUDIO_DAYS=7

# Optional: scheduler / watchlist
Y2T_SCHEDULER_ENABLED=false
Y2T_SCHEDULER_INTERVAL_MINUTES=60
Y2T_SCHEDULER_MAX_CONCURRENT_RUNS=1
Y2T_WATCHLIST_ALLOW_ANY_URL=false

# Optional: yt-dlp
YT_DLP_PATH=your-yt_dlp_path

# Optional: OpenAI Whisper API
Y2T_OPENAI_WHISPER_MODEL=whisper-1

# Optional: audio splitting limits
Y2T_MAX_AUDIO_MB=
Y2T_SPLIT_OVERLAP_SECONDS=2

# Optional: settings defaults (legacy env names still supported)
FILENAME_STYLE=title_id
ASSEMBLYAI_CREDITS_CHECK=warn
ASSEMBLYAI_MIN_BALANCE_MINUTES=60
COMMENTS_ENABLED=false
COMMENTS_MAX=200

# Optional: polling and retries
Y2T_POLL_INTERVAL_MS=5000
Y2T_MAX_POLL_MINUTES=60
Y2T_DOWNLOAD_RETRIES=2
Y2T_TRANSCRIPTION_RETRIES=2
