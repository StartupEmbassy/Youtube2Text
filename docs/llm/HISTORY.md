# LLM Change History

Append new entries at the top so the most recent activity is easiest to find. Follow the required format:

YYYY-MM-DD - <LLM_NAME> - <Brief summary> - Files: [list of touched files] - Version impact: <yes/no + details>

## Log

2026-01-01 - GPT-5.2 - Security S1: hash rate limiter keys, require auth for deep health (env override), update docs/tests/specs, bump to 0.29.0 - Files: [src/api/auth.ts, src/api/server.ts, tests/apiAuth.test.ts, tests/apiHealth.test.ts, tests/apiRateLimit.test.ts, .env.example, README.md, HOW_TO_USE.md, docs/operations/DEPLOY_PLAYBOOK.md, openapi.yaml, web/lib/apiTypes.gen.ts, docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json] - Version impact: yes (0.28.1 -> 0.29.0)
2026-01-01 - GPT-5.2 - Clarify consolidated security snapshot (validate SSE limiter, chain risk, conditional PS note) - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2026-01-01 - GPT-5.2 - Consolidate HANDOFF security sections into a single snapshot and keep full audits in archive - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2026-01-01 - GPT-5.2 - Add Security Roadmap v7 to architecture + handoff (deep health auth, rate limiter key hashing, webhook DNS rebinding, ops guidance, tests) - Files: [docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2026-01-01 - GPT-5.2 - Fix HOW_TO_USE API key wording and align webhook max-age example default - Files: [HOW_TO_USE.md, .env.example, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2026-01-01 - GPT-5.2 - Mark Phase 2.2-2.5 and 2.4.x as DONE in architecture roadmap and remove obsolete backlog note - Files: [docs/ARCHITECTURE.md, docs/llm/HISTORY.md] - Version impact: no
2026-01-01 - GPT-5.2 - Standardize docker-compose env defaults and document compose default behavior - Files: [docker-compose.yml, docs/operations/DEPLOY_PLAYBOOK.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-31 - GPT-5.2 - Resolve Documentation Audit v3 items (how-to quickstart auth, artifacts list, webhook headers, deploy defaults, docker-compose envs, events/storage docs) - Files: [HOW_TO_USE.md, INTEGRATION.md, docs/operations/DEPLOY_PLAYBOOK.md, docker-compose.yml, docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-31 - GPT-5.2 - Align .env.example defaults for buffered events and shutdown timeout; update HANDOFF note - Files: [.env.example, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-31 - GPT-5.2 - Mark Documentation Audit v2 as resolved in HANDOFF - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-31 - GPT-5.2 - Fix catalog TTL legacy env fallback, align auth/defaults in docs, correct error codes + webhook headers, add missing 401s in OpenAPI, and refresh compose/env notes; regenerate types - Files: [src/config/loader.ts, README.md, INTEGRATION.md, docs/operations/DEPLOY_PLAYBOOK.md, openapi.yaml, docker-compose.yml, web/lib/apiTypes.gen.ts, docs/llm/HISTORY.md] - Version impact: no

2025-12-31 - GPT-5.2 - Close doc gaps from audit: add error responses + webhook headers in INTEGRATION, add missing env vars/defaults in deploy playbook, update metrics content-type, document --audioDir, add 429 to health, drop unused enumerate stage, and refresh STRUCTURE + docker-compose env note - Files: [INTEGRATION.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/STRUCTURE.md, README.md, openapi.yaml, src/pipeline/events.ts, docker-compose.yml, web/lib/apiTypes.gen.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-30 - GPT-5.2 - Tighten TranscriptionProvider typing, add provider name test, and clarify INTEGRATION auth note - Files: [src/transcription/provider.ts, src/transcription/assemblyai/index.ts, src/transcription/openai/index.ts, tests/sttProvider.test.ts, INTEGRATION.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-30 - GPT-5.2 - Fix doc drift (auth/CORS defaults, error log path, API contract scope, stage naming, smoke test note) - Files: [HOW_TO_USE.md, README.md, docs/operations/API_CONTRACT.md, docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-30 - GPT-5.2 - Refactor STT provider capabilities onto TranscriptionProvider, update pipeline and /providers list, and bump version to 0.28.1 - Files: [src/config/schema.ts, src/transcription/provider.ts, src/transcription/assemblyai/index.ts, src/transcription/openai/index.ts, src/transcription/registry.ts, src/transcription/index.ts, src/pipeline/run.ts, src/api/server.ts, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, openapi.yaml] - Version impact: yes (0.28.0 -> 0.28.1)

2025-12-30 - GPT-5.2 - Fix docker smoke test to include API key and auth headers for protected endpoints - Files: [scripts/dockerSmokeTest.mjs, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-30 - GPT-5.2 - Fix error record stage typing to include split stage and refresh HANDOFF test/build status - Files: [src/storage/errors.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-29 - GPT-5.2 - Add provider capabilities + audio splitting (overlap trimmed), expose maxAudioMB/splitOverlapSeconds, and bump version to 0.28.0 - Files: [src/config/schema.ts, src/config/loader.ts, src/config/runs.ts, src/config/settings.ts, src/api/schemas.ts, src/api/validation.ts, src/api/settings.ts, src/api/server.ts, src/api/sanitize.ts, src/transcription/openai/index.ts, src/transcription/capabilities.ts, src/transcription/merge.ts, src/transcription/factory.ts, src/transcription/index.ts, src/pipeline/run.ts, src/pipeline/events.ts, src/utils/audio.ts, src/utils/deps.ts, src/cli/index.ts, web/app/api/providers/route.ts, web/app/settings/SettingsForm.tsx, web/lib/apiTypes.gen.ts, tests/sttProvider.test.ts, tests/mergeChunks.test.ts, tests/apiProviders.test.ts, tests/all.test.ts, .env.example, config.yaml.example, runs.yaml.example, README.md, openapi.yaml, docs/STRUCTURE.md, docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json] - Version impact: yes (0.27.0 -> 0.28.0)

2025-12-29 - GPT-5.2 - Add OpenAI Whisper API provider (`openai_whisper`), wire config/settings/CLI/UI, update docs/specs, and bump version to 0.27.0 - Files: [src/config/schema.ts, src/config/loader.ts, src/config/runs.ts, src/config/settings.ts, src/api/schemas.ts, src/api/validation.ts, src/api/settings.ts, src/api/sanitize.ts, src/transcription/factory.ts, src/transcription/index.ts, src/transcription/openai/index.ts, src/pipeline/run.ts, src/cli/index.ts, web/app/settings/SettingsForm.tsx, web/lib/apiTypes.gen.ts, tests/sttProvider.test.ts, tests/all.test.ts, .env.example, config.yaml.example, runs.yaml.example, README.md, openapi.yaml, docs/STRUCTURE.md, docs/PROJECT_CONTEXT.md, docs/ARCHITECTURE.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json] - Version impact: yes (0.26.0 -> 0.27.0)

2025-12-29 - GPT-5.2 - Add STT provider selection: introduce `sttProvider` config, factory, settings/UI support, update docs/specs, and bump version to 0.26.0 - Files: [src/config/schema.ts, src/config/loader.ts, src/config/runs.ts, src/config/settings.ts, src/api/schemas.ts, src/api/validation.ts, src/api/settings.ts, src/transcription/provider.ts, src/transcription/factory.ts, src/transcription/index.ts, src/pipeline/run.ts, src/cli/index.ts, web/app/settings/SettingsForm.tsx, web/lib/apiTypes.gen.ts, .env.example, config.yaml.example, runs.yaml.example, README.md, openapi.yaml, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json] - Version impact: yes (0.25.0 -> 0.26.0)

2025-12-29 - GPT-5.2 - Docs cleanup: align .env.example with README env list, add TypeScript/interface notes to HANDOFF, and archive the Phase 2.7 table - Files: [.env.example, README.md, docs/llm/HANDOFF.md, docs/llm/HANDOFF_ARCHIVE.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-29 - GPT-5.2 - Rate limiting hardening: switch to token-bucket refill to prevent fixed-window bursts, update docs, and bump version to 0.25.0 - Files: [src/api/rateLimit.ts, README.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.24.1 -> 0.25.0)

2025-12-29 - GPT-5.2 - Security Phase 2 (MEDIUM) follow-up: reduce request-body memory usage via streaming decode in readJsonBody(), update docs, and bump version to 0.24.1 - Files: [src/api/http.ts, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.24.0 -> 0.24.1)

2025-12-29 - GPT-5.2 - Security Phase 2 (MEDIUM) hardening: API key header length cap, read + health rate limits, request timeout, new tests/docs, and bump version to 0.24.0 - Files: [src/api/auth.ts, src/api/rateLimit.ts, src/api/server.ts, tests/apiAuth.test.ts, tests/apiRateLimit.test.ts, tests/all.test.ts, .env.example, README.md, INTEGRATION.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.23.9 -> 0.24.0)

2025-12-29 - GPT-5.2 - Security Phase 2 (HIGH) fixes: rate limiter cleanup, trust-proxy IP handling, SSE connection cap, webhook redirect blocking; add tests/docs and bump version to 0.23.9 - Files: [src/api/ip.ts, src/api/auth.ts, src/api/rateLimit.ts, src/api/server.ts, src/api/webhooks.ts, tests/apiAuth.test.ts, tests/apiSseLimit.test.ts, tests/all.test.ts, .env.example, README.md, INTEGRATION.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.23.8 -> 0.23.9)

2025-12-28 - GPT-5.2 - Security hardening follow-up: fix readJsonBodySafe scope, add webhook replay helper + max-age header, adjust tests, update docs, and bump version to 0.23.8 - Files: [src/api/server.ts, src/api/webhooks.ts, tests/apiBodyLimit.test.ts, tests/apiWebhooks.test.ts, tests/apiAuth.test.ts, tests/apiCors.test.ts, tests/all.test.ts, .env.example, README.md, INTEGRATION.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.23.7 -> 0.23.8)

2025-12-28 - GPT-5.2 - Security hardening: timing-safe API key compare, webhook SSRF allowlist/blocks, CORS default closed, body size limit, auth failure rate limit, new tests, docs updates, and bump version to 0.23.7 - Files: [src/api/auth.ts, src/api/http.ts, src/api/server.ts, src/api/webhooks.ts, tests/apiBodyLimit.test.ts, tests/apiAuth.test.ts, tests/apiWebhooks.test.ts, tests/all.test.ts, .env.example, README.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.23.6 -> 0.23.7)

2025-12-28 - GPT-5.2 - Tech debt: run `npm audit fix --force`, update devDependency lockfile, confirm contract check passes, and mark audit clean - Files: [package.json, package-lock.json, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-28 - GPT-5.2 - Tech debt: add graceful shutdown + symlink handling tests, refactor shutdown flow to reusable helper, and bump version to 0.23.6 - Files: [src/api/graceful.ts, src/api/index.ts, src/storage/fsAdapter.ts, tests/apiGracefulShutdown.test.ts, tests/storageSymlink.test.ts, tests/all.test.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.23.5 -> 0.23.6)

2025-12-28 - GPT-5.2 - Tech debt: add EventBuffer and RunManager race-condition tests, update backlog, and bump version to 0.23.5 - Files: [tests/apiEventBufferRace.test.ts, tests/apiRunManagerRace.test.ts, tests/all.test.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.23.4 -> 0.23.5)

2025-12-28 - GPT-5.2 - Tech debt: harden settings PATCH schema (allowlist, bounds, null clears, reject unknown keys), remove redundant settings validation, update OpenAPI, and bump version to 0.23.4 - Files: [src/api/schemas.ts, src/api/settings.ts, src/api/server.ts, openapi.yaml, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json] - Version impact: yes (0.23.3 -> 0.23.4)

2025-12-27 - GPT-5.2 - Tech debt: consolidate run/watchlist validation into Zod schemas, remove duplicate runtime validators, and bump version to 0.23.3 - Files: [src/api/schemas.ts, src/api/server.ts, src/api/validation.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.23.2 -> 0.23.3)

2025-12-27 - GPT-5.2 - Tech debt: reduce external data `as any` usage by tightening YouTube metadata/thumbnail parsing and retention JSON guards; bump version to 0.23.2 - Files: [src/youtube/channel.ts, src/youtube/metadata.ts, src/pipeline/run.ts, src/api/retention.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.23.1 -> 0.23.2)

2025-12-26 - GPT-5.2 - Tech debt: normalize null/undefined handling for optional API inputs (Zod preprocess), allow nulls in OpenAPI, add null-handling tests, update docs, and bump version to 0.23.1 - Files: [src/api/schemas.ts, tests/apiRunValidation.test.ts, tests/apiWatchlistValidation.test.ts, openapi.yaml, README.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json] - Version impact: yes (0.23.0 -> 0.23.1)

2025-12-26 - GPT-5.2 - Roadmap update: reprioritize tech debt around null/undefined normalization, external data guards, validation consolidation, and settings schema hardening; bump version to 0.23.0 - Files: [docs/llm/HANDOFF.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/VERSIONING_RULES.md, docs/llm/HISTORY.md, package.json, openapi.yaml] - Version impact: yes (0.22.4 -> 0.23.0)

2025-12-26 - GPT-5.2 - Tech debt: add scheduler concurrency guard + test to avoid overlapping triggerOnce runs, update roadmap docs, and bump version to 0.22.4 - Files: [src/api/scheduler.ts, tests/scheduler.test.ts, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.22.3 -> 0.22.4)

2025-12-26 - GPT-5.2 - Tech debt: add env var aliases with Y2T_ prefixes, document legacy names, add env alias tests, and bump version to 0.22.3 - Files: [src/config/loader.ts, src/api/settings.ts, .env.example, README.md, docs/STRUCTURE.md, tests/configEnvAliases.test.ts, tests/all.test.ts, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.22.2 -> 0.22.3)

2025-12-26 - GPT-5.2 - Tech debt: add webhook tests for 429 retry and missing signature, update roadmap docs, and bump version to 0.22.2 - Files: [tests/apiWebhooks.test.ts, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.22.1 -> 0.22.2)

2025-12-26 - GPT-5.2 - Ops: sync package-lock.json version with package.json via npm install; note audit vulnerabilities; update HANDOFF next steps - Files: [package-lock.json, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-26 - GPT-5.2 - Docs/contract cleanup: remove unused GlobalRunEvent schema to eliminate OpenAPI warning, and bump version to 0.22.1 - Files: [openapi.yaml, package.json, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: yes (0.22.0 -> 0.22.1)

2025-12-26 - GPT-5.2 - Ops hardening: add run timeout safety net (Y2T_RUN_TIMEOUT_MINUTES) and Docker healthcheck, update docs/env examples, and bump version to 0.22.0 - Files: [src/api/runManager.ts, src/api/server.ts, Dockerfile, .env.example, README.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/PROJECT_CONTEXT.md, docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.21.0 -> 0.22.0)

2025-12-26 - GPT-5.2 - Phase 2.8.3 hardening: add write rate limiting (per API key/IP), expose env config, add 429 OpenAPI responses + unit test, and bump version to 0.21.0 - Files: [src/api/rateLimit.ts, src/api/server.ts, tests/apiRateLimit.test.ts, tests/all.test.ts, README.md, .env.example, docs/operations/DEPLOY_PLAYBOOK.md, openapi.yaml, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json] - Version impact: yes (0.20.2 -> 0.21.0)

2025-12-26 - GPT-5.2 - Phase 2.8.2b hardening: add Zod schemas for API request bodies, remove unsafe casts in server routes, update docs/roadmap, and bump version to 0.20.2 - Files: [src/api/schemas.ts, src/api/server.ts, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.20.1 -> 0.20.2)

2025-12-26 - GPT-5.2 - Phase 2.8.2b hardening: sanitize API 500 responses, log persistence failures, update roadmap/docs, and bump version to 0.20.1 - Files: [src/api/server.ts, src/api/runManager.ts, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, openapi.yaml] - Version impact: yes (0.20.0 -> 0.20.1)

2025-12-26 - GPT-5.2 - Phase 2.8.2 security: add server-side clamps/validation for settings/runs/watchlist (numeric bounds, ISO afterDate, AssemblyAI language code allowlist), add shared validation helper + tests, update docs, and bump version to 0.20.0 - Files: [src/api/validation.ts, src/api/server.ts, src/api/settings.ts, src/youtube/language.ts, tests/apiSettings.test.ts, tests/apiRunValidation.test.ts, tests/all.test.ts, README.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, openapi.yaml] - Version impact: yes (0.19.3 -> 0.20.0)

2025-12-22 - GPT-5.2 - Security hardening follow-up: set docker-compose `Y2T_ALLOW_INSECURE_NO_API_KEY` default to false (auth-required by default), and block library path traversal by validating `channelDirName` in API routes and in `FileSystemStorageAdapter`; add unit test for traversal rejection; bump version to 0.19.3 - Files: [docker-compose.yml, src/api/server.ts, src/storage/fsAdapter.ts, tests/apiLibrarySecurity.test.ts, tests/all.test.ts, package.json, openapi.yaml, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: yes (0.19.2 -> 0.19.3)

2025-12-22 - Claude Opus 4.5 - Bugfix: `requireApiKey` middleware rejected all requests when no API key configured, even with `Y2T_ALLOW_INSECURE_NO_API_KEY=true`; added `isInsecureModeEnabled()` function and updated middleware to allow requests when insecure mode is enabled; also added `Y2T_ALLOW_INSECURE_NO_API_KEY` default to docker-compose.yml for local dev; bump version to 0.19.2 - Files: [src/api/auth.ts, docker-compose.yml, package.json, openapi.yaml, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md] - Version impact: yes (0.19.1 -> 0.19.2)

2025-12-20 - GPT-5.2 - Web UI: show API version in the top nav by fetching `GET /health` server-side and rendering `vX.Y.Z` next to the configured API base URL; bump version to 0.19.1 - Files: [web/app/layout.tsx, openapi.yaml, package.json, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: yes (0.19.0 -> 0.19.1)

2025-12-20 - GPT-5.2 - Phase 2.8.1 security: make HTTP API auth mandatory by default (server refuses to start without `Y2T_API_KEY`, unless explicitly allowed via `Y2T_ALLOW_INSECURE_NO_API_KEY=true` for local dev); update OpenAPI/README/deploy docs, adjust API tests to send `X-API-Key`, and add a startup refusal test; bump version to 0.19.0 - Files: [src/api/server.ts, src/api/auth.ts, tests/all.test.ts, tests/apiAuth.test.ts, tests/apiMetrics.test.ts, tests/apiSettings.test.ts, tests/apiRunLogs.test.ts, tests/apiWatchlistValidation.test.ts, tests/apiCacheFirstThumbBackfill.test.ts, openapi.yaml, README.md, .env.example, docs/operations/DEPLOY_PLAYBOOK.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, web/lib/apiTypes.gen.ts] - Version impact: yes (0.18.0 -> 0.19.0)

2025-12-20 - GPT-5.2 - Security hardening: remove unsafe arbitrary yt-dlp extra args configuration by dropping `ytDlpExtraArgs`/`YT_DLP_EXTRA_ARGS` from config/schema, Settings API/UI, OpenAPI, and example configs; remove outdated retry hints that referenced `YT_DLP_EXTRA_ARGS`; update docs/decisions; bump version to 0.18.0 - Files: [src/config/schema.ts, src/config/loader.ts, src/config/settings.ts, src/config/runs.ts, src/api/settings.ts, src/cli/index.ts, src/pipeline/run.ts, src/pipeline/plan.ts, src/youtube/ytDlpErrors.ts, src/youtube/download.ts, web/app/settings/SettingsForm.tsx, openapi.yaml, web/lib/apiTypes.gen.ts, README.md, .env.example, config.yaml.example, runs.yaml.example, docs/ARCHITECTURE.md, docs/llm/DECISIONS.md, docs/llm/HANDOFF.md, docs/llm/HANDOFF_ARCHIVE.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json] - Version impact: yes (0.17.7 -> 0.18.0)

2025-12-20 - Claude Opus 4.5 - Settings UX refinement (Gemini-validated): user didn't like having to hover/click tooltip to see current value, so added compact inline value display (just the value, no prefix) next to empty fields while keeping full info in tooltip; added 8px margin-left spacing between inputs and effective hints via `.effectiveHint` CSS class; reduces text ~70% vs original `effective: value (source)` while maintaining visibility; bump version to 0.17.7 - Files: [web/app/settings/SettingsForm.tsx, web/app/globals.css, package.json, openapi.yaml, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md] - Version impact: yes (0.17.6 -> 0.17.7)

2025-12-20 - Claude Opus 4.5 - Settings UX cleanup (3-LLM consensus): remove inline `effective: value (source)` text from all 16 fields to reduce visual clutter; move effective value info into existing `?` tooltips (combines help text + effective value); move Save button to top of form for better accessibility; Gemini recommended tooltip approach over placeholder/table alternatives; bump version to 0.17.6 - Files: [web/app/settings/SettingsForm.tsx, package.json, openapi.yaml, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md] - Version impact: yes (0.17.5 -> 0.17.6)

2025-12-19 - GPT-5.2 - Settings source tracking: extend `GET /settings` to return per-field sources (env vs config.yaml vs settingsFile vs default/unset) and display `(source)` next to inline effective-value hints in the Settings UI; bump version to 0.17.5 - Files: [src/config/loader.ts, src/config/settings.ts, src/api/settings.ts, openapi.yaml, web/lib/apiTypes.gen.ts, web/app/settings/SettingsForm.tsx, tests/apiSettings.test.ts, docs/llm/HISTORY.md, docs/llm/HANDOFF.md, docs/VERSIONING_RULES.md, package.json, package-lock.json] - Version impact: yes (0.17.4 -> 0.17.5)

2025-12-19 - GPT-5.2 - Settings UX clarity: when a Settings field is unset (inherit), show an inline `effective: ...` hint next to the input so users can see the actual value coming from config/env/defaults; bump version to 0.17.4 - Files: [web/app/settings/SettingsForm.tsx, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, openapi.yaml, package.json, package-lock.json] - Version impact: yes (0.17.3 -> 0.17.4)

2025-12-19 - GPT-5.2 - Settings UX polish: rename confusing "yt-dlp" section to "Advanced (download)", improve tooltip copy for non-technical users, and prevent horizontal textarea resizing (resize: vertical) to avoid layout shifting; bump version to 0.17.3 - Files: [web/app/settings/SettingsForm.tsx, web/app/globals.css, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, openapi.yaml, package.json, package-lock.json] - Version impact: yes (0.17.2 -> 0.17.3)

2025-12-19 - Claude Opus 4.5 - Reviewed GPT v0.17.2 tooltips (excellent work: added mobile click support + accessibility beyond spec); reviewed GPT 2.7.5 proposal (rename yt-dlp to Advanced + textarea resize:vertical); consulted Gemini who approved both; updated HANDOFF with 3-LLM consensus - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-19 - GPT-5.2 - Settings UI help tooltips (Gemini-designed): add tooltip CSS + a small Tooltip component and attach per-field help text to `/settings` labels; bump version to 0.17.2 - Files: [web/app/globals.css, web/app/settings/SettingsForm.tsx, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, openapi.yaml, package.json, package-lock.json] - Version impact: yes (0.17.1 -> 0.17.2)

2025-12-19 - Claude Opus 4.5 - Settings help tooltips spec: consulted Gemini for UX pattern (recommends ? icon tooltips for 15+ fields); wrote CSS spec matching dark theme + Tooltip component + help text for all 16 fields to HANDOFF.md for GPT to implement - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-19 - Claude Opus 4.5 - Reviewed GPT v0.17.1 implementation: confirmed all UX fixes correctly applied (compact inputs, formRow, right-aligned labels, 3 cards); Gemini CLI also validated "no issues found"; Docker rebuilt and running - Files: none - Version impact: no

2025-12-19 - GPT-5.2 - Settings UI UX polish (Gemini-validated): add settings-specific compact input CSS classes, switch `/settings` to inline rows with right-aligned labels on desktop (mobile-first column layout), and reduce card clutter; bump version to 0.17.1 - Files: [web/app/globals.css, web/app/settings/SettingsForm.tsx, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, openapi.yaml, package.json, package-lock.json] - Version impact: yes (0.17.0 -> 0.17.1)

2025-12-19 - Claude Opus 4.5 - Final Settings UX spec with 3-LLM consensus: GPT proposed responsiveness (media queries), Gemini validated and provided exact CSS with 900px breakpoint (matching project convention), touch target recommendations (44x44px min), and mobile-first responsive formRow/formLabel classes; wrote complete implementation-ready CSS spec to HANDOFF.md for GPT to implement - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-19 - Claude Opus 4.5 - UX review of Settings page (v0.17.0) with Gemini CLI consultation: identified 4 major design issues; consulted Google Gemini CLI (`npx github:google-gemini/gemini-cli`) for validation which refined input widths (70-90px vs my original 80-120px) and added right-aligned labels recommendation; both LLMs agreed on 2-3 cards max and horizontal layout for desktop admin panels; updated HANDOFF_ARCHIVE with combined Claude+Gemini UX recommendations - Files: [docs/llm/HANDOFF_ARCHIVE.md, docs/llm/HISTORY.md, C:\Users\cdela\.gemini\settings.json] - Version impact: no

2025-12-18 - GPT-5.2 - Phase 2.7 settings defaults: add non-secret settings persisted to `output/_settings.json` with API `GET/PATCH /settings` and a Next.js `/settings` page; ensure `POST /runs/plan` and scheduler planning use effective config (settings + yaml + env); fix env boolean parsing so unset vars don't override; update OpenAPI + regenerate web types; add API unit test and Docker smoke check for `/settings`; archive long HANDOFF into HANDOFF_ARCHIVE and keep HANDOFF short; bump version to 0.17.0 - Files: [src/config/settings.ts, src/config/loader.ts, src/api/settings.ts, src/api/server.ts, openapi.yaml, web/app/settings/page.tsx, web/app/settings/SettingsForm.tsx, web/app/api/settings/route.ts, web/app/layout.tsx, web/lib/apiTypes.gen.ts, tests/apiSettings.test.ts, tests/all.test.ts, scripts/dockerSmokeTest.mjs, README.md, INTEGRATION.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/STRUCTURE.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/llm/HANDOFF.md, docs/llm/HANDOFF_ARCHIVE.md, docs/llm/README.md, docs/VERSIONING_RULES.md, package.json, package-lock.json] - Version impact: yes (0.16.3 -> 0.17.0)

2025-12-18 - Claude Opus 4.5 - Review v0.16.2 + v0.16.3: all my catalog cache suggestions now implemented (TTL tests, logging, Prometheus metrics); build OK, 65/65 tests pass; no further improvements needed - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-18 - GPT-5.2 - Catalog cache observability: add in-process counters for catalog cache hit/miss/expired and full vs incremental refresh; expose as Prometheus metrics under `GET /metrics`; add catalog log lines for cache miss/invalid, incremental refresh (+N new), and fallback to full refresh; bump version to 0.16.3 - Files: [src/youtube/catalogMetrics.ts, src/youtube/catalogCache.ts, src/api/server.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, package-lock.json, openapi.yaml] - Version impact: yes (0.16.2 -> 0.16.3)

2025-12-18 - GPT-5.2 - Catalog TTL polish: log when `output/_catalog/<channelId>.json` expires (forces full refresh) and add unit tests for TTL behavior using injected enumerate function; bump version to 0.16.2 - Files: [src/youtube/catalogCache.ts, tests/catalogCacheTtl.test.ts, tests/all.test.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, package-lock.json, openapi.yaml] - Version impact: yes (0.16.1 -> 0.16.2)

2025-12-18 - Claude Opus 4.5 - Review v0.16.1 cache TTL: implementation correct, follows my suggestion exactly; noted 2 minor improvements (TTL test, logging on expiry) as low priority; updated suggestion status table in HANDOFF.md - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-18 - GPT-5.2 - Catalog cache TTL: add `catalogMaxAgeHours` (config) and `Y2T_CATALOG_MAX_AGE_HOURS` (env, default 168h; <=0 disables). If the cached `output/_catalog/<channelId>.json` is older than TTL, force full enumeration to avoid stale/deleted videos; document env + config examples; bump version to 0.16.1 - Files: [src/config/schema.ts, src/config/loader.ts, src/youtube/catalogCache.ts, src/pipeline/plan.ts, src/pipeline/run.ts, .env.example, config.yaml.example, README.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json, openapi.yaml] - Version impact: yes (0.16.0 -> 0.16.1)

2025-12-17 - Claude Opus 4.5 - Review v0.16.0 catalog cache + processed index: implementation excellent, suggested 3 improvements (cache TTL via Y2T_CATALOG_MAX_AGE_HOURS, cache metrics/logging, integration test for full cache flow); documented in HANDOFF.md for GPT-5.2 roadmap - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-17 - GPT-5.2 - Exact planning performance: cache full channel catalog under `output/_catalog/<channelId>.json` with incremental refresh, and build processed-id set by scanning existing transcript JSON files across all channel dirs with the same channelId (avoids per-video existence checks across 1000+ listings); wire into `POST /runs/plan` and runs; add unit tests; bump version to 0.16.0 - Files: [src/youtube/catalogCache.ts, src/youtube/enumerate.ts, src/storage/processedIndex.ts, src/storage/naming.ts, src/pipeline/plan.ts, src/pipeline/run.ts, tests/catalogCache.test.ts, tests/processedIndex.test.ts, tests/naming.test.ts, tests/all.test.ts, README.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json, openapi.yaml] - Version impact: yes (0.15.1 -> 0.16.0)

2025-12-17 - Claude Opus 4.5 - Review GPT-5.2 UI fix for AFTER_DATE filtering in "Compute totals"; aligned version drift (openapi.yaml 0.15.0 -> 0.15.1); documented decision resolution in HANDOFF.md - Files: [openapi.yaml, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no (already 0.15.1)

2025-12-17 - GPT-5.2 - UI fix: ChannelActions "Compute totals" now sends `afterDate: ""` to clear server default filter so totals reflect full channel; added warning if totalVideos < downloadedCount - Files: [web/app/library/[channelDirName]/ChannelActions.tsx, docs/llm/HANDOFF.md] - Version impact: no (part of 0.15.1)

2025-12-17 - Claude Opus 4.5 - Bug fix: channel enumeration returned only channel tabs (2 entries) instead of actual videos (1000+). Root cause: bare channel URLs (`/channel/UC...`) need `/videos` suffix for yt-dlp to return the video list. Added `normalizeChannelUrlForEnumeration()` and 4 unit tests; bump version to 0.15.1 - Files: [src/youtube/url.ts, src/youtube/enumerate.ts, tests/urlNormalization.test.ts, tests/all.test.ts, package.json, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: yes (0.15.0 -> 0.15.1)

2025-12-17 - GPT-5.2 - Phase 2.6 polish: Library channel page shows channel title and adds quick actions (Open on YouTube, Copy URL, Run this channel prefill) plus on-demand channel totals via `POST /runs/plan`; bump version to 0.15.0 - Files: [web/app/page.tsx, web/app/CreateRunForm.tsx, web/app/library/[channelDirName]/page.tsx, web/app/library/[channelDirName]/ChannelActions.tsx, README.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json, openapi.yaml] - Version impact: yes (0.14.1 -> 0.15.0)

2025-12-17 - GPT-5.2 - Patch: run detail page Downloads auto-updates (SSE-triggered refetch), Create Run warns when `force=true` + `maxNewVideos`, and docs align; bump version to 0.14.1 - Files: [web/app/runs/[runId]/RunArtifactsLive.tsx, web/app/runs/[runId]/page.tsx, web/app/CreateRunForm.tsx, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, openapi.yaml, package.json, package-lock.json] - Version impact: yes (0.14.0 -> 0.14.1)

2025-12-17 - GPT-5.2 - Phase 2.6: add `maxNewVideos` + plan preview (limit-after-skip) across core planner/pipeline, API (`POST /runs` + `POST /runs/plan`), CLI, runs.yaml, and web Create Run advanced options with on-demand plan preview; update OpenAPI and regenerate web types; bump version to 0.14.0 - Files: [.env.example, HOW_TO_USE.md, INTEGRATION.md, README.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, openapi.yaml, package-lock.json, package.json, runs.yaml.example, src/api/server.ts, src/cli/index.ts, src/config/loader.ts, src/config/runs.ts, src/config/schema.ts, src/pipeline/events.ts, src/pipeline/plan.ts, src/pipeline/run.ts, tests/apiPlan.test.ts, tests/fixtures/test-videos.md, web/app/CreateRunForm.tsx, web/lib/apiTypes.gen.ts] - Version impact: yes (0.13.2 -> 0.14.0)

2025-12-17 - GPT-5.2 - Patch: Watchlist UI displays/edits intervals in hours (converts to API minutes internally); bump version to 0.13.2 - Files: [web/app/watchlist/WatchlistClient.tsx, README.md, HOW_TO_USE.md, openapi.yaml, docs/VERSIONING_RULES.md, docs/llm/HISTORY.md, package.json, package-lock.json] - Version impact: yes (0.13.1 -> 0.13.2)

2025-12-17 - GPT-5.2 - Patch: Watchlist UI adds per-entry "Run now" (plan-first) and editable per-entry interval override; add Next.js proxy for `POST /runs/plan`; make `WatchlistUpdateRequest.intervalMinutes` nullable in OpenAPI; bump version to 0.13.1 - Files: [web/app/watchlist/WatchlistClient.tsx, web/app/api/runs/plan/route.ts, web/lib/apiSchema.ts, openapi.yaml, web/lib/apiTypes.gen.ts, README.md, HOW_TO_USE.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json] - Version impact: yes (0.13.0 -> 0.13.1)

2025-12-17 - GPT-5.2 - Phase 2.5: add `GET /metrics` (Prometheus text) and a Next.js watchlist UI (`/watchlist`) with scheduler controls via proxied API routes; bump version to 0.13.0 - Files: [src/api/server.ts, openapi.yaml, web/app/layout.tsx, web/app/watchlist/page.tsx, web/app/watchlist/WatchlistClient.tsx, web/app/api/watchlist/route.ts, web/app/api/watchlist/[id]/route.ts, web/app/api/scheduler/status/route.ts, web/app/api/scheduler/start/route.ts, web/app/api/scheduler/stop/route.ts, web/app/api/scheduler/trigger/route.ts, web/lib/apiSchema.ts, tests/apiMetrics.test.ts, tests/all.test.ts, README.md, HOW_TO_USE.md, INTEGRATION.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json, web/lib/apiTypes.gen.ts] - Version impact: yes (package.json/openapi.yaml 0.12.0 -> 0.13.0)

2025-12-17 - GPT-5.2 - Fix OpenAPI missing `PipelineEvent` schema referenced by `GET /runs/:id/logs`; regenerate `web/lib/apiTypes.gen.ts` so `npm run api:contract:check` passes - Files: [openapi.yaml, web/lib/apiTypes.gen.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-17 - GPT-5.2 - Phase 2.4.5-2.4.7: add OpenAPI missing 4XX responses (reduce lint warnings), add `GET /runs/:id/logs` (JSON tail of recent events), and implement API graceful shutdown on SIGTERM/SIGINT with `Y2T_SHUTDOWN_TIMEOUT_SECONDS`; bump version to 0.12.0 - Files: [src/api/server.ts, src/api/runManager.ts, src/api/index.ts, openapi.yaml, web/lib/apiTypes.gen.ts, tests/apiRunLogs.test.ts, tests/all.test.ts, .env.example, README.md, HOW_TO_USE.md, INTEGRATION.md, docs/operations/API_CONTRACT.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, package-lock.json] - Version impact: yes (package.json 0.11.1 -> 0.12.0)

2025-12-16 - GPT-5.2 - Phase 2.4 polish/stabilize: add OpenAPI `license` + `operationId` fields, watchlist URL validation (channel/playlist by default, env override), regression test for cache-first channel thumbnail backfill, and deploy playbook cron example; bump version to 0.11.1 - Files: [openapi.yaml, web/lib/apiTypes.gen.ts, src/youtube/url.ts, src/api/server.ts, src/api/scheduler.ts, .env.example, README.md, HOW_TO_USE.md, INTEGRATION.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, tests/scheduler.test.ts, tests/apiCacheFirstThumbBackfill.test.ts, tests/apiWatchlistValidation.test.ts, tests/all.test.ts, package.json, package-lock.json] - Version impact: yes (package.json 0.11.0 -> 0.11.1)

2025-12-16 - GPT-5.2 - Phase 2.4 (partial): add cooperative run cancellation end-to-end (pipeline abortSignal, `POST /runs/:id/cancel`, `cancelled` status, `run:cancelled` SSE + webhook) plus a minimal UI cancel button; bump version to 0.11.0 - Files: [src/pipeline/run.ts, src/api/runManager.ts, src/api/server.ts, src/api/webhooks.ts, openapi.yaml, web/lib/apiTypes.gen.ts, web/app/api/runs/[runId]/cancel/route.ts, web/app/runs/[runId]/CancelRunButton.tsx, web/app/runs/[runId]/page.tsx, web/app/runs/[runId]/RunEvents.tsx, web/app/RunsLive.tsx, tests/apiCancel.test.ts, tests/all.test.ts, README.md, INTEGRATION.md, docs/operations/API_CONTRACT.md, docs/PROJECT_CONTEXT.md, docs/ARCHITECTURE.md, docs/VERSIONING_RULES.md, package.json, package-lock.json] - Version impact: yes (package.json 0.10.0 -> 0.11.0)

2025-12-16 - GPT-5.2 - Phase 2.3 kickoff: add watchlist persistence + CRUD endpoints and an opt-in in-process scheduler (status/start/stop/trigger) that uses `POST /runs/plan` to decide whether to create runs; bump version to 0.10.0 - Files: [src/api/watchlist.ts, src/api/scheduler.ts, src/api/server.ts, openapi.yaml, web/lib/apiTypes.gen.ts, README.md, HOW_TO_USE.md, .env.example, docker-compose.yml, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json, tests/watchlist.test.ts, tests/scheduler.test.ts, tests/all.test.ts] - Version impact: yes (package.json 0.9.6 -> 0.10.0)

2025-12-16 - GPT-5.2 - Phase 2.2.3: add retention cleanup for run persistence (`output/_runs/*`) and old audio cache (`audio/*`) with env knobs, auto-on-startup, and `POST /maintenance/cleanup`; add deploy playbook doc; keep transcripts untouched; bump version to 0.9.6 - Files: [src/api/retention.ts, src/api/index.ts, src/api/server.ts, openapi.yaml, web/lib/apiTypes.gen.ts, README.md, HOW_TO_USE.md, .env.example, docker-compose.yml, docs/PROJECT_CONTEXT.md, docs/operations/DEPLOY_PLAYBOOK.md, docs/operations/README.md, docs/llm/DECISIONS.md, tests/apiRetention.test.ts, tests/all.test.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json] - Version impact: yes (package.json 0.9.5 -> 0.9.6)

2025-12-16 - GPT-5.2 - Phase 2.2.2: add CORS allowlist via `Y2T_CORS_ORIGINS` (exact origin match) and tests for allowed/blocked origins; fix DECISIONS ordering for D-016; bump version to 0.9.5 - Files: [src/api/server.ts, tests/apiCors.test.ts, tests/all.test.ts, README.md, HOW_TO_USE.md, docs/llm/DECISIONS.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, openapi.yaml, package.json, package-lock.json, web/lib/apiTypes.gen.ts] - Version impact: yes (package.json 0.9.4 -> 0.9.5)

2025-12-16 - GPT-5.2 - Phase 2.2.1: add deep health check via `GET /health?deep=true` (deps: yt-dlp/ffmpeg, disk free, persistence dir writable) and document the contract; bump version to 0.9.4 - Files: [src/api/health.ts, src/api/server.ts, openapi.yaml, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json, tests/apiHealth.test.ts, tests/all.test.ts, docs/llm/DECISIONS.md] - Version impact: yes (package.json 0.9.3 -> 0.9.4)

2025-12-16 - Claude Opus 4.5 - Fix channel thumbnails not appearing for cached single-video runs: add fire-and-forget thumbnail update in cache-first path (server.ts), prefer square avatars over banners (channel.ts isSquareish function); bump version to 0.9.3 - Files: [src/api/server.ts, src/youtube/channel.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json] - Version impact: yes (package.json 0.9.2 -> 0.9.3)

2025-12-15 - GPT-5.2 - Fix channel avatars for channels created from single-video runs by fetching channel metadata via `https://www.youtube.com/channel/<channelId>` and persisting `channelUrl` in `_channel.json`; bump version to 0.9.2 - Files: [src/pipeline/run.ts, src/storage/index.ts, docs/llm/HANDOFF.md, docs/PROJECT_CONTEXT.md, docs/ARCHITECTURE.md, openapi.yaml, package.json, package-lock.json, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.9.1 -> 0.9.2)

2025-12-14 - GPT-5.2 - Web UX: make navbar brand link to `/`, and make Run detail actually usable (status/progress summary, per-video downloads list, and clearer error display instead of raw artifacts JSON); bump version to 0.5.4 - Files: [web/app/layout.tsx, web/app/runs/[runId]/page.tsx, docs/llm/HANDOFF.md, openapi.yaml, web/lib/apiTypes.gen.ts, docs/VERSIONING_RULES.md, package.json, package-lock.json, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.5.3 -> 0.5.4)

2025-12-14 - GPT-5.2 - Docs polish: update HANDOFF goal to Phase 2, shorten "What Changed Recently", and clear stale open questions; bump version to 0.5.3 - Files: [docs/llm/HANDOFF.md, openapi.yaml, web/lib/apiTypes.gen.ts, docs/VERSIONING_RULES.md, package.json, package-lock.json, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.5.2 -> 0.5.3)

2025-12-14 - GPT-5.2 - Fix thumbnails/title on runs: make `.thumb` constrain image size (block element), and add run thumbnail/title fallbacks from artifacts or direct video URL parsing (watch/shorts/youtu.be); bump version to 0.5.2 - Files: [web/app/globals.css, web/app/RunsLive.tsx, web/app/runs/[runId]/page.tsx, docs/llm/HANDOFF.md, openapi.yaml, web/lib/apiTypes.gen.ts, docs/VERSIONING_RULES.md, package.json, package-lock.json, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.5.1 -> 0.5.2)

2025-12-14 - GPT-5.2 - Web UX: shrink thumbnails and ensure Run detail shows a video Title by enriching run preview data from artifacts when runs finish; bump version to 0.5.1 - Files: [src/api/runManager.ts, web/app/globals.css, web/app/runs/[runId]/page.tsx, openapi.yaml, web/lib/apiTypes.gen.ts, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json] - Version impact: yes (package.json 0.5.0 -> 0.5.1)

2025-12-14 - GPT-5.2 - Web UX: add YouTube thumbnails in Runs/Run detail/Library by tracking `previewVideoId` on RunRecord, update OpenAPI/types, and bump version to 0.5.0 - Files: [src/api/runManager.ts, openapi.yaml, web/lib/apiTypes.gen.ts, web/app/RunsLive.tsx, web/app/runs/[runId]/page.tsx, web/app/library/[channelDirName]/page.tsx, web/app/globals.css, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json] - Version impact: yes (package.json 0.4.2 -> 0.5.0)

2025-12-14 - GPT-5.2 - Web UX: make runs list more descriptive (use channelTitle/inputUrl instead of runId), and add "Open downloads" shortcuts on run cards and run detail; bump version to 0.4.2 - Files: [web/app/RunsLive.tsx, web/app/runs/[runId]/page.tsx, docs/llm/HANDOFF.md, docs/VERSIONING_RULES.md, openapi.yaml, web/lib/apiTypes.gen.ts, package.json, package-lock.json, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.4.1 -> 0.4.2)

2025-12-14 - GPT-5.2 - Roadmap update: mark Phase 1 as DONE, define Phase 2 (hosted single-tenant admin) and Phase 3+ (optional multi-tenant), and bump version to 0.4.1 - Files: [docs/llm/HANDOFF.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, openapi.yaml, web/lib/apiTypes.gen.ts, package.json, package-lock.json, docs/VERSIONING_RULES.md, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.4.0 -> 0.4.1)

2025-12-14 - GPT-5.2 - Add `.md` and `.jsonl` transcript artifacts (for readability + LLM-friendly chunking), expose them via API/Web library, update OpenAPI contract and tests, and bump version to 0.4.0 - Files: [src/formatters/md.ts, src/formatters/jsonl.ts, src/formatters/index.ts, src/pipeline/run.ts, src/storage/index.ts, src/storage/fsAdapter.ts, src/api/server.ts, web/app/library/[channelDirName]/page.tsx, openapi.yaml, web/lib/apiTypes.gen.ts, tests/outputFormats.test.ts, tests/all.test.ts, README.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/VERSIONING_RULES.md, docs/llm/DECISIONS.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md, package.json, package-lock.json] - Version impact: yes (package.json 0.3.3 -> 0.4.0)

2025-12-14 - GPT-5.2 - Fix Docker URL split bug: separate server vs browser API base URL helpers so Library artifact links use `NEXT_PUBLIC_Y2T_API_BASE_URL` (not Docker-internal `Y2T_API_BASE_URL`); bump version to 0.3.3 - Files: [web/lib/api.ts, web/app/page.tsx, web/app/library/[channelDirName]/page.tsx, web/app/runs/[runId]/page.tsx, openapi.yaml, package.json, package-lock.json, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.3.2 -> 0.3.3)

2025-12-14 - GPT-5.2 - Phase 1 follow-up: improve SSE UX by summarizing per-run events (human-readable lines + Clear button), and bump version to 0.3.2 - Files: [web/app/runs/[runId]/RunEvents.tsx, openapi.yaml, package.json, package-lock.json, docs/ARCHITECTURE.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.3.1 -> 0.3.2)

2025-12-14 - GPT-5.2 - Phase 1 follow-ups: remove inline UI styles (consistent CSS classes), replace `web/lib/types.ts` with `web/lib/apiSchema.ts`, and bump version to 0.3.1 - Files: [web/app/globals.css, web/app/error.tsx, web/app/layout.tsx, web/app/page.tsx, web/app/CreateRunForm.tsx, web/app/RunsLive.tsx, web/app/library/page.tsx, web/app/library/[channelDirName]/page.tsx, web/app/runs/[runId]/page.tsx, web/app/runs/[runId]/RunEvents.tsx, web/lib/apiSchema.ts, web/lib/types.ts, openapi.yaml, package.json, package-lock.json, docs/ARCHITECTURE.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/REVIEWS.md, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.3.0 -> 0.3.1)

2025-12-14 - GPT-5.2 - Phase 1 Step 3: add global SSE endpoint `GET /events` emitting run create/update events, update Next.js runs list to subscribe and update live, extend OpenAPI schema, add unit test for global events, and bump version to 0.3.0 - Files: [src/api/runManager.ts, src/api/server.ts, openapi.yaml, web/lib/apiTypes.gen.ts, web/lib/types.ts, web/app/RunsLive.tsx, web/app/page.tsx, tests/apiGlobalEvents.test.ts, tests/all.test.ts, README.md, package.json, package-lock.json, docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.2.0 -> 0.3.0)

2025-12-14 - GPT-5.2 - Phase 1 Step 2: implement OpenAPI contract + generated frontend types + contract-check workflow (OpenAPI spec at repo root, generated types in web/, validate+generate+diff check scripts); bump version to 0.2.0 per VERSIONING_RULES - Files: [openapi.yaml, web/lib/apiTypes.gen.ts, web/lib/types.ts, web/app/CreateRunForm.tsx, scripts/apiContractCheck.mjs, package.json, package-lock.json, docs/operations/API_CONTRACT.md, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/HISTORY.md] - Version impact: yes (package.json 0.1.0 -> 0.2.0)

2025-12-14 - GPT-5.2 - Web UI UX: change run detail layout to always stack Events below Artifacts (no side-by-side columns) and wrap Artifacts JSON to avoid horizontal scroll - Files: [web/app/runs/[runId]/page.tsx, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Web UI responsiveness: wrap long event lines to avoid horizontal scroll and make run detail grid responsive (single column on small screens) - Files: [web/app/globals.css, web/app/runs/[runId]/RunEvents.tsx, web/app/runs/[runId]/page.tsx, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Small UI cleanup from Claude feedback: remove redundant per-route error.tsx files (keep global error boundary) and remove unnecessary router.refresh() after navigating to a newly created run - Files: [web/app/CreateRunForm.tsx, web/app/library/error.tsx, web/app/runs/[runId]/error.tsx, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Phase 1 Step 1: add Next.js error boundaries for API-down UX (global + per-route) and improve run creation UX by navigating to the created run detail page; update roadmap/handoff ordering - Files: [web/app/error.tsx, web/app/library/error.tsx, web/app/runs/[runId]/error.tsx, web/app/CreateRunForm.tsx, docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Document Phase 1 Step 3 plan: OpenAPI contract + generated TS types/client + contract-check workflow to prevent endpoint/type drift; add operations doc and link from roadmap/handoff/decisions - Files: [docs/operations/API_CONTRACT.md, docs/operations/README.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Phase 1 follow-ups: move Claude web UI review out of HANDOFF into `docs/llm/REVIEWS.md`, improve SSE connected state (use EventSource onopen), and add a simple "Start run" form in the web UI that calls `POST /runs`; update README - Files: [docs/llm/HANDOFF.md, docs/llm/REVIEWS.md, docs/llm/HISTORY.md, web/app/runs/[runId]/RunEvents.tsx, web/app/CreateRunForm.tsx, web/app/page.tsx, README.md] - Version impact: no

2025-12-14 - Claude - Review GPT Phase 1 web UI scaffold: document positives (Next.js 14 RSC, standalone Docker, clean separation, StorageAdapter reuse) and areas to improve (type duplication, no error handling, no run creation form, mixed styling, no SSE reconnect) - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Start Phase 1: add Next.js admin UI scaffold under `web/`, add API `GET /library/...` endpoints for browsing existing outputs and fetching artifacts, update docker-compose to run api+web, and add a unit test to ensure `_runs` is excluded from channel listing - Files: [src/api/server.ts, src/storage/fsAdapter.ts, web/*, docker-compose.yml, .dockerignore, package.json, README.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/HISTORY.md, tests/storageFsAdapter.test.ts, tests/all.test.ts] - Version impact: no

2025-12-14 - GPT-5.2 - Clean up HANDOFF: enforce ASCII-only, remove garbled text, and align snapshot claims with verified tests (docker smoke test) - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - Claude - Report manual Docker API e2e run (POST /runs with real AssemblyAI key); transcription completed (Spanish detected) - Files: [docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Docker hardening: install `yt-dlp` in a Python virtualenv (avoid Debian/PEP-668 without `--break-system-packages`) and allow optional pinning via `YT_DLP_VERSION` build arg; update docs/decision/README - Files: [Dockerfile, README.md, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Fix Docker smoke test reliability: accept `/runs` response shape `{runs: []}` and add fetch timeouts to avoid hangs; ensure containers are cleaned up even on failures - Files: [scripts/dockerSmokeTest.mjs, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - Claude - Fix Dockerfile PEP 668 error on Debian 12: add `--break-system-packages` to pip install yt-dlp; verified Docker image builds and API responds on /health - Files: [Dockerfile, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Add no-credit Docker smoke test (`npm run test:docker-smoke`) that builds the API image, starts a container, checks `/health` and `/runs`, then stops; document in README and handoff - Files: [scripts/dockerSmokeTest.mjs, package.json, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Complete Phase 0.3 Docker packaging for the HTTP API runner (Dockerfile + docker-compose + .dockerignore), and align roadmap/docs to mark Phase 0 as done and Phase 1 as next; record Docker rationale as D-009 - Files: [Dockerfile, docker-compose.yml, .dockerignore, README.md, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Fix apiPersistence test flakiness by serializing persistence writes in RunManager and adding `flush()` to await pending writes (also resolves restart race) - Files: [src/api/runManager.ts, tests/apiPersistence.test.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - Claude - Report race condition bug in apiPersistence test (onEvent fire-and-forget async causes test to read incomplete data) - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Add API run/event persistence (default enabled) under `output/_runs/` with reload on startup; add unit test for persistence; document env flags - Files: [src/api/persistence.ts, src/api/eventBuffer.ts, src/api/runManager.ts, src/api/server.ts, src/api/index.ts, tests/apiPersistence.test.ts, tests/all.test.ts, README.md, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Implement Phase 0.2 minimal HTTP API runner: in-process server with `POST /runs`, SSE `GET /runs/:id/events`, and `GET /runs/:id/artifacts`, plus run manager + event buffer and basic unit tests; add `youtube2text-api` bin and README usage - Files: [src/api.ts, src/api/index.ts, src/api/server.ts, src/api/runManager.ts, src/api/eventBuffer.ts, src/api/http.ts, src/api/sse.ts, src/cli.ts, package.json, README.md, tests/apiEventBuffer.test.ts, tests/all.test.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Refine yt-dlp `player_client=default` hint to only show for retryable/transient failures (avoid noise on access-denied) and document the behavior - Files: [src/youtube/download.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Start Phase 0.1 yt-dlp reliability hardening: add yt-dlp failure classifier + retry gating (no retries for access-denied), add generic hint for `player_client=default`, improve per-video error stage reporting in pipeline, add unit tests for yt-dlp parsing, and update README - Files: [src/utils/retry.ts, src/youtube/ytDlpErrors.ts, src/youtube/download.ts, src/youtube/index.ts, src/pipeline/run.ts, tests/ytDlpErrors.test.ts, tests/all.test.ts, README.md, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - Claude - Add language info to TXT header showing source (yt-dlp or auto-detected with confidence percentage), add unit tests - Files: [src/formatters/txt.ts, src/pipeline/run.ts, tests/txtFormatter.test.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Implement AssemblyAI ALD fallback when yt-dlp cannot determine language (Chinese/no-metadata case), add request body builder + unit test, persist detected language/confidence in `.meta.json`, and update docs/fixtures - Files: [src/transcription/types.ts, src/transcription/assemblyai/request.ts, src/transcription/assemblyai/client.ts, src/youtube/language.ts, src/pipeline/run.ts, src/storage/index.ts, tests/language.test.ts, tests/fixtures/test-videos.md, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/ARCHITECTURE.md, README.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - Claude - Validate multilingual detection (ES/EN/FR/DE/ZH), propose AssemblyAI ALD for videos without YouTube metadata (D-006), document test results - Files: [docs/llm/DECISIONS.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Split LLM docs: move long decision rationale out of HANDOFF into `docs/llm/DECISIONS.md`, add `docs/llm/README.md` index, and refresh `docs/STRUCTURE.md` + `LLM_START_HERE.md` so future sessions know where information lives (ASCII-only) - Files: [docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/README.md, docs/STRUCTURE.md, LLM_START_HERE.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - Claude - Restore decision context to HANDOFF after GPT simplification: added "Why" sections for language detection priority chain, interface decisions (StorageAdapter/EventEmitter NOW vs YoutubeResolver DEFER), yt-dlp client options, and test video status table - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - GPT-5.2 - Fix `npm run build` by excluding tests from `tsconfig.json`, delete stray compiled `tests/*.js`, rewrite docs to remove encoding artifacts and align Phase 0/1 roadmap, refresh `.env.example` template, and document testing - Files: [tsconfig.json, tests/all.test.js, tests/language.test.js, tests/naming.test.js, tests/txtFormatter.test.js, README.md, .env.example, docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - Claude - Fix language detection: use video `language` field first (most reliable), filter only AssemblyAI-supported languages, fix config loader undefined override bug, add multilingual test fixtures, update tests (11 pass) - Files: [src/youtube/language.ts, src/config/loader.ts, tests/language.test.ts, tests/fixtures/test-videos.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - Claude - Respond to GPT scope & roadmap: agree with public-video-only scope, suggest members_only skip reason, agree with roadmap order 1->2->3, propose yt-dlp android player_client as JS runtime fix - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-14 - Claude - Respond to GPT containerization proposal: agree with Docker approach but defer until HTTP API exists; add concerns about image size and cookies.txt for multi-tenant; provide Dockerfile sketch for future reference - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-15 - GPT-5.2 - Align Phase 2 roadmap across docs (Integration MVP -> Ops hardening -> Scheduler/watchlist -> Control) and fix Phase/date consistency; keep rationale in D-014/D-015 - Files: [docs/ARCHITECTURE.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-15 - GPT-5.2 - Phase 2.1: add optional API auth via `Y2T_API_KEY` (X-API-Key) + `POST /runs/plan`; web UI proxies API/SSE/downloads via Next.js `/api/*` routes so the browser does not need the key; update docker-compose + OpenAPI + tests - Files: [src/api/auth.ts, src/api/sanitize.ts, src/api/server.ts, src/pipeline/plan.ts, src/api/runManager.ts, web/lib/api.ts, web/lib/apiProxy.ts, web/app/api/**, web/app/*, docker-compose.yml, openapi.yaml, tests/apiAuth.test.ts, tests/apiPlan.test.ts, tests/all.test.ts, README.md, .env.example, docs/llm/HANDOFF.md, docs/llm/DECISIONS.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md] - Version impact: yes (0.6.0)
2025-12-15 - GPT-5.2 - Phase 2.1: add `callbackUrl` webhooks for `POST /runs` (`run:done`/`run:error`) with retries and optional HMAC signature headers; bump version and document env vars - Files: [src/api/webhooks.ts, src/api/runManager.ts, src/api/server.ts, openapi.yaml, README.md, .env.example, docs/llm/HANDOFF.md, docs/PROJECT_CONTEXT.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, package-lock.json] - Version impact: yes (0.7.0)
2025-12-15 - GPT-5.2 - Phase 2.1: cache-first for single-video URLs on `POST /runs` (return `done` immediately when artifacts already exist and `force=false`); bump version and document behavior - Files: [src/youtube/url.ts, src/api/server.ts, src/api/runManager.ts, openapi.yaml, README.md, docs/llm/HISTORY.md, docs/VERSIONING_RULES.md, package.json, package-lock.json] - Version impact: yes (0.8.0)
2025-12-15 - GPT-5.2 - Docs: add `INTEGRATION.md`, replace stale scaffold guide with Youtube2Text-specific `HOW_TO_USE.md`, and update `docs/STRUCTURE.md` to match current repo layout - Files: [INTEGRATION.md, HOW_TO_USE.md, docs/STRUCTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-15 - GPT-5.2 - Add channel avatar thumbnails in Library: persist best-effort `channelThumbnailUrl` into `_channel.json` via yt-dlp metadata, expose on `/library/channels`, and render small avatars with fallback initials; bump version - Files: [src/youtube/channel.ts, src/youtube/index.ts, src/pipeline/run.ts, src/storage/index.ts, src/storage/adapter.ts, src/storage/fsAdapter.ts, openapi.yaml, web/app/library/page.tsx, web/app/globals.css, tests/storageFsAdapter.test.ts, web/lib/apiTypes.gen.ts, docs/llm/HISTORY.md, package.json, package-lock.json, docs/VERSIONING_RULES.md] - Version impact: yes (0.9.0)
2025-12-15 - GPT-5.2 - Fix channel avatar extraction: use yt-dlp channel metadata (flat-playlist) instead of video thumbnails; add tests and document rerun requirement - Files: [src/youtube/channel.ts, src/pipeline/run.ts, src/youtube/index.ts, tests/channelThumbs.test.ts, tests/all.test.ts, README.md, HOW_TO_USE.md, INTEGRATION.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: yes (0.9.1)

2025-12-14 - Claude - Respond to GPT language detection proposal: agree with yt-dlp metadata approach (options 1+2), defer Whisper local to Phase 2+, reject double-transcription option; propose simple priority chain with automatic_captions/subtitles detection - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - Claude - Create comprehensive web platform architecture document with multi-tenant design, Supabase schema, R2 storage, BullMQ jobs, LLM chat, webhooks, and 8-phase implementation plan - Files: [docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - Claude - Respond to GPT's AssemblyAI credits preflight suggestion with implementation recommendations - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - Claude - Document user decision on filename styles: implement id, id_title, title_id options with title_id as default - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - Claude - Review output and suggest filename improvement: include sanitized video title in output filenames for easier identification - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Add optional runs.yaml for multi-run execution, update CLI/README, and fix TS build narrowing - Files: [README.md, src/cli/index.ts, src/config/runs.ts, src/config/index.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Ignore runs.yaml/yml in git and accept runs.yml fallback; clarify YAML structure in README - Files: [.gitignore, README.md, src/config/runs.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Implement user/Claude hardening: add .env/config/runs examples, ignore outputs, buffer upload, yt-dlp preflight check, date debug, CLI --version; defer parallel runs and root-array YAML - Files: [.env.example, config.yaml.example, runs.yaml.example, .gitignore, README.md, src/transcription/assemblyai/http.ts, src/utils/deps.ts, src/pipeline/run.ts, src/utils/date.ts, src/cli/index.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Pivot to accept root-array runs.yaml after user error; update loader and docs accordingly - Files: [src/config/runs.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Normalize user runs.yml to recommended `{runs: [...]}` structure for clarity - Files: [runs.yml, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Document yt-dlp system dependency and future Docker deployment note - Files: [README.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Fix Windows winget alias issue by resolving yt-dlp executable path and passing it through pipeline; add troubleshooting note - Files: [src/utils/deps.ts, src/pipeline/run.ts, src/youtube/enumerate.ts, src/youtube/download.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Broaden yt-dlp resolution for VSCode terminals (env override, where.exe, pwsh fallback) and document YT_DLP_PATH workaround - Files: [src/utils/deps.ts, README.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Add explicit ytDlpPath config/CLI override to bypass VSCode env issues; propagate through pipeline and runs - Files: [src/config/schema.ts, src/config/loader.ts, src/config/runs.ts, src/utils/deps.ts, src/pipeline/run.ts, src/cli/index.ts, README.md, .env.example, runs.yaml.example, config.yaml.example, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Scaffold and implement MVP 1 local pipeline (yt-dlp audio download, AssemblyAI diarization, json/txt/csv storage, CLI) and align README audio path - Files: [package.json, tsconfig.json, README.md, src/cli/index.ts, src/pipeline/run.ts, src/config/*, src/youtube/*, src/transcription/*, src/formatters/*, src/storage/*, src/utils/*, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: yes (initial package.json 0.1.0)

2025-12-12 - GPT-5.2 - Adapt project documentation to Youtube2Text scope - Files: [README.md, LLM_START_HERE.md, docs/PROJECT_CONTEXT.md, docs/STRUCTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Added support for individual YouTube video URLs (fallback enumeration) - Files: [src/youtube/enumerate.ts, README.md, docs/PROJECT_CONTEXT.md, docs/llm/HANDOFF.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add timestamps and line wrapping to TXT output - Files: [src/formatters/txt.ts, README.md, src/pipeline/run.ts, docs/llm/HANDOFF.md] - Version impact: no
2025-12-12 - GPT-5.2 - Document optional title-in-filename suggestion for outputs - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Switch output/audio filenames to include sanitized title slug by default - Files: [src/storage/index.ts, src/utils/fs.ts, src/pipeline/run.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Reorder basename to `<title_slug>__<video_id>` for visual sorting - Files: [src/storage/index.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add AssemblyAI credits preflight suggestion to handoff - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Implement filenameStyle (id/id_title/title_id) and AssemblyAI credits preflight config/CLI - Files: [src/config/schema.ts, src/config/loader.ts, src/config/runs.ts, src/cli/index.ts, src/storage/index.ts, src/utils/fs.ts, src/transcription/assemblyai/client.ts, src/transcription/assemblyai/index.ts, src/pipeline/run.ts, README.md, .env.example, config.yaml.example, runs.yaml.example, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Stop pipeline on AssemblyAI insufficient credits; add colored/prefixed logs - Files: [src/transcription/assemblyai/errors.ts, src/transcription/assemblyai/http.ts, src/pipeline/run.ts, src/utils/logger.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Include channel info in TXT output headers - Files: [src/formatters/txt.ts, src/pipeline/run.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Switch key pipeline logs to logStep for clearer CLI output - Files: [src/youtube/enumerate.ts, src/youtube/download.ts, src/transcription/assemblyai/client.ts, src/pipeline/run.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add per-stage colors and ASCII icons to logStep output - Files: [src/utils/logger.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Fetch yt-dlp video descriptions and include in TXT headers - Files: [src/youtube/metadata.ts, src/youtube/types.ts, src/youtube/index.ts, src/pipeline/run.ts, src/formatters/txt.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add optional yt-dlp comments extraction and save to sidecar JSON - Files: [src/youtube/comments.ts, src/youtube/index.ts, src/storage/index.ts, src/pipeline/run.ts, src/config/schema.ts, src/config/loader.ts, src/config/runs.ts, src/cli/index.ts, README.md, .env.example, config.yaml.example, runs.yaml.example, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - Claude - Respond to GPT-5.2 modularity review: agree with analysis, propose prioritized interface roadmap (StorageAdapter, PipelineEventEmitter, core errors NOW; YouTube/Formatter DEFER), include concrete interface definitions - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - Claude - Respond to GPT-5.2 architecture review: accept Phase 0 local-first (user confirmed), propose StorageAdapter interface, PipelineEvent contract, detailed Phase 0 breakdown (~3 weeks) - Files: [docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

2025-12-12 - GPT-5.2 - Annotate docs/ARCHITECTURE.md with Claude vs GPT-5.2 review notes and add Phase 0 local-first MVP - Files: [docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add resume-aware X/Y progress logging for runs - Files: [src/pipeline/run.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Show stable video index i/N in skip/done/fail logs - Files: [src/pipeline/run.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add remaining count to progress logs - Files: [src/pipeline/run.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Prefix channel folder names with sanitized channel title - Files: [src/storage/index.ts, src/pipeline/run.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add modularity/interface review notes to handoff for Claude - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add follow-up notes on interfaces and service-first API readiness - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Rewrite docs/ARCHITECTURE.md to service-first Phase 0 and add language detection requirement - Files: [docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Document service-first layering (core + runners + API) in handoff - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add PipelineEventEmitter and `--json-events` for JSONL progress events - Files: [src/pipeline/events.ts, src/pipeline/jsonlEmitter.ts, src/pipeline/run.ts, src/cli/index.ts, src/utils/logger.ts, README.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add StorageAdapter + FS implementation for reading outputs; add channel/video meta sidecars; unify core credits error - Files: [src/storage/adapter.ts, src/storage/fsAdapter.ts, src/storage/naming.ts, src/storage/index.ts, src/pipeline/run.ts, src/transcription/errors.ts, src/transcription/assemblyai/http.ts, README.md, docs/VERSIONING_RULES.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-12 - GPT-5.2 - Add language detection options note (metadata vs manual vs audio LID) to handoff - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-14 - GPT-5.2 - Add notes on language detection alignment and Dockerization/deployment considerations - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-14 - GPT-5.2 - Document public-video scope (no cookies) and clarify Phase 0 next steps (language + yt-dlp JS runtime) - Files: [docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-14 - GPT-5.2 - Implement language detection via yt-dlp captions/subtitles and add configurable ytDlpExtraArgs default (android client) - Files: [src/youtube/language.ts, src/youtube/metadata.ts, src/youtube/enumerate.ts, src/youtube/download.ts, src/youtube/comments.ts, src/youtube/index.ts, src/config/schema.ts, src/config/loader.ts, src/config/runs.ts, src/cli/index.ts, src/pipeline/run.ts, README.md, .env.example, config.yaml.example, runs.yaml.example, docs/ARCHITECTURE.md, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no
2025-12-14 - GPT-5.2 - Add TypeScript unit tests for naming/language/txt formatting - Files: [package.json, src/youtube/language.ts, src/storage/fsAdapter.ts, src/storage/naming.ts, tests/all.test.ts, tests/naming.test.ts, tests/language.test.ts, tests/txtFormatter.test.ts, docs/llm/HANDOFF.md, docs/llm/HISTORY.md] - Version impact: no

### Example Entry Format

```
2025-01-15 - Claude - Add authentication module with JWT support - Files: [src/auth/jwt.js, src/auth/middleware.js, tests/auth.test.js, docs/llm/HANDOFF.md] - Version impact: yes (src/auth/jwt.js -> 1.1.0, breaking change requires new ENV var JWT_SECRET)
```

### Your Project History

Start logging your changes below. Remove the example above once you have real entries.

---

- 2025-01-01 - ExampleLLM - Initial project setup from LLM-DocKit scaffold - Files: [README.md, LLM_START_HERE.md, docs/PROJECT_CONTEXT.md] - Version impact: no
